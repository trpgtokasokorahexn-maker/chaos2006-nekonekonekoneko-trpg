<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基本ルール詳細 - クトゥルフ神話TRPG 7版</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="site-title">
                <i class="fas fa-dice-d20"></i>
                基本ルール詳細
            </h1>
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left"></i> トップページに戻る
            </a>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <ul class="nav-menu">
                <li><a href="#dice-mechanics" onclick="showSection('dice-mechanics')">ダイス判定</a></li>
                <li><a href="#push-roll" onclick="showSection('push-roll')">プッシュロール</a></li>
                <li><a href="#bonus-penalty" onclick="showSection('bonus-penalty')">ボーナス・ペナルティ</a></li>
                <li><a href="#luck" onclick="showSection('luck')">幸運と対抗ロール</a></li>
            </ul>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <section id="dice-mechanics" class="content-section">
                <h2>ダイス判定の詳細</h2>
                
                <div class="rule-card">
                    <h3><i class="fas fa-percentage"></i> 成功率と判定</h3>
                    <p>クトゥルフ神話TRPGでは、技能や能力値を百分率で表現し、1d100（100面ダイス）を振って判定を行います。</p>
                    
                    <h4>成功レベル</h4>
                    <div class="success-levels">
                        <div class="success-level critical">
                            <h5>イクストリーム成功</h5>
                            <p>技能値の1/5以下の出目</p>
                            <p class="example">例: 技能値60%なら12以下</p>
                        </div>
                        <div class="success-level hard">
                            <h5>ハード成功</h5>
                            <p>技能値の1/2以下の出目</p>
                            <p class="example">例: 技能値60%なら30以下</p>
                        </div>
                        <div class="success-level normal">
                            <h5>通常成功</h5>
                            <p>技能値以下の出目</p>
                            <p class="example">例: 技能値60%なら60以下</p>
                        </div>
                        <div class="success-level fail">
                            <h5>失敗</h5>
                            <p>技能値を超える出目</p>
                            <p class="example">例: 技能値60%なら61以上</p>
                        </div>
                    </div>
                </div>

                <div class="rule-card">
                    <h3><i class="fas fa-calculator"></i> 技能値の計算</h3>
                    <p>各技能には基本値があり、職業ポイントと興味本位ポイントを割り振って初期値を決定します。</p>
                    
                    <h4>技能値の内訳</h4>
                    <ul>
                        <li><strong>基本値:</strong> 各技能に設定された最低値</li>
                        <li><strong>職業ポイント:</strong> EDU×20のポイントを職業技能に割り振る</li>
                        <li><strong>興味本位ポイント:</strong> INT×10のポイントを任意の技能に割り振る</li>
                    </ul>
                    
                    <div class="formula-box">
                        <p><strong>技能値 = 基本値 + 職業ポイント + 興味本位ポイント</strong></p>
                    </div>
                </div>
            </section>

            <section id="push-roll" class="content-section" style="display: none;">
                <h2>プッシュロールの詳細</h2>
                
                <div class="rule-card">
                    <h3><i class="fas fa-redo-alt"></i> プッシュロールとは</h3>
                    <p>プッシュロールは、失敗したロールをもう一度振り直すことができる特別なルールです。</p>
                    
                    <div class="warning-box">
                        <h4><i class="fas fa-exclamation-triangle"></i> 重要な注意点</h4>
                        <ul>
                            <li>KP（キーパー）の許可が必要</li>
                            <li>失敗した場合、より危険な結果になる</li>
                            <li>状況が悪化する代償がある</li>
                            <li>同じロールに複数回適用できない</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-card">
                    <h3><i class="fas fa-book-dead"></i> プッシュ失敗の例</h3>
                    <div class="example-scenarios">
                        <div class="scenario">
                            <h4>図書館での調査</h4>
                            <p><strong>通常失敗:</strong> 情報が見つからない</p>
                            <p><strong>プッシュ失敗:</strong> 貴重な資料を破損させ、図書館員に怒られる</p>
                        </div>
                        <div class="scenario">
                            <h4>交渉</h4>
                            <p><strong>通常失敗:</strong> 相手が興味を示さない</p>
                            <p><strong>プッシュ失敗:</strong> 相手を怒らせ、以後の交渉が不可能に</p>
                        </div>
                        <div class="scenario">
                            <h4>ロック解除</h4>
                            <p><strong>通常失敗:</strong> 鍵が開かない</p>
                            <p><strong>プッシュ失敗:</strong> 鍵を壊してしまい、部屋に入れなくなる</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="bonus-penalty" class="content-section" style="display: none;">
                <h2>ボーナスダイス・ペナルティダイス</h2>
                
                <div class="rule-card">
                    <h3><i class="fas fa-plus-circle"></i> ボーナスダイス</h3>
                    <p>有利な状況で1つ多くの10の位ダイスを振り、好きな方の結果を選択します。</p>
                    
                    <h4>ボーナスダイスの例</h4>
                    <ul>
                        <li>優れた道具を使用している</li>
                        <li>十分な時間がある</li>
                        <li>助けてくれる仲間がいる</li>
                        <li>環境が有利（明るい、静かなど）</li>
                    </ul>
                    
                    <div class="dice-example">
                        <p><strong>通常:</strong> 10の位ダイス1個 + 1の位ダイス1個</p>
                        <p><strong>ボーナス1個:</strong> 10の位ダイス2個 → 好きな方を選択</p>
                        <p><strong>ボーナス2個:</strong> 10の位ダイス3個 → 好きな方を選択</p>
                    </div>
                </div>

                <div class="rule-card">
                    <h3><i class="fas fa-minus-circle"></i> ペナルティダイス</h3>
                    <p>不利な状況で1つ多くの10の位ダイスを振り、最悪の結果を採用します。</p>
                    
                    <h4>ペナルティダイスの例</h4>
                    <ul>
                        <li>粗末な道具しかない</li>
                        <li>時間切れが近い</li>
                        <li>悪天候や真っ暗な環境</li>
                        <li>負傷している</li>
                    </ul>
                    
                    <div class="dice-example">
                        <p><strong>通常:</strong> 10の位ダイス1個 + 1の位ダイス1個</p>
                        <p><strong>ペナルティ1個:</strong> 10の位ダイス2個 → 最悪の結果を採用</p>
                        <p><strong>ペナルティ2個:</strong> 10の位ダイス3個 → 最悪の結果を採用</p>
                    </div>
                </div>
            </section>

            <section id="luck" class="content-section" style="display: none;">
                <h2>幸運と対抗ロール</h2>
                
                <div class="rule-card">
                    <h3><i class="fas fa-clover"></i> 幸運の消費</h3>
                    <p>幸運はキャラクターの運命力を表し、危機的な状況を好転させるために消費できます。</p>
                    
                    <h4>幸運の使用方法</h4>
                    <ol>
                        <li>KPに幸運を使いたい旨を宣言</li>
                        <li>現在の幸運値で幸運ロールを行う</li>
                        <li>成功すれば状況が好転する</li>
                        <li>消費した幸運は回復しない</li>
                    </ol>
                    
                    <div class="example-box">
                        <h5>使用例</h5>
                        <p>「銃口が相手に向いている瞬間、私は引き金を引こうとします」</p>
                        <p>「幸運を使って、相手が銃を落としていたとします」</p>
                    </div>
                </div>

                <div class="rule-card">
                    <h3><i class="fas fa-handshake"></i> 対抗ロール</h3>
                    <p>2人のキャラクターが互いに能力を競う場合、対抗ロールを行います。</p>
                    
                    <h4>対抗ロールの手順</h4>
                    <ol>
                        <li>両者が同時にロールを行う</li>
                        <li>成功レベルを比較する</li>
                        <li>成功レベルが高い方が勝利</li>
                        <li>同じ成功レベルなら、技能値が高い方が勝利</li>
                    </ol>
                    
                    <div class="vs-example">
                        <h5>対抗ロールの例</h5>
                        <div class="vs-comparison">
                            <div class="vs-side">
                                <h6>探偵（説明75%）</h6>
                                <p>出目: 32 → ハード成功</p>
                            </div>
                            <div class="vs-vs">VS</div>
                            <div class="vs-side">
                                <h6>詐欺師（言いくるめ65%）</h6>
                                <p>出目: 45 → 通常成功</p>
                            </div>
                        </div>
                        <p><strong>結果:</strong> 探偵のハード成功が勝利！</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 クトゥルフ神話TRPG 7版 ルールブック</p>
            <p>このサイトはファン作成の非公式ガイドです</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // このページ専用のJavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // 初期セクションを表示
            showSection('dice-mechanics');
        });
        
        // 成功レベルの説明をアニメーション
        function animateSuccessLevels() {
            const levels = document.querySelectorAll('.success-level');
            levels.forEach((level, index) => {
                setTimeout(() => {
                    level.style.opacity = '1';
                    level.style.transform = 'translateY(0)';
                }, index * 200);
            });
        }
        
        // ページ読み込み後にアニメーション実行
        setTimeout(animateSuccessLevels, 500);
    </script>
    
    <style>
        /* このページ専用の追加スタイル */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(-3px);
        }
        
        .success-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .success-level {
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        
        .success-level.critical {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }
        
        .success-level.hard {
            background: linear-gradient(135deg, #3498db, #5dade2);
            color: white;
        }
        
        .success-level.normal {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }
        
        .success-level.fail {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }
        
        .success-level h5 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .success-level .example {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 0.5rem;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        
        .warning-box h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .example-scenarios {
            display: grid;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .scenario {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }
        
        .scenario h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .formula-box {
            background: #e8f4f8;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin: 1rem 0;
            border: 2px solid #3498db;
        }
        
        .dice-example {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
        }
        
        .example-box {
            background: #e8f5e8;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border: 2px solid #27ae60;
        }
        
        .vs-example {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        
        .vs-comparison {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 1rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .vs-side {
            flex: 1;
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .vs-vs {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
        }
    </style>
</body>
</html>
